# Firestore Schema for Bursary Home Application

This document outlines the proposed Firestore database schema for the Bursary Home Flutter application, utilizing Firebase Authentication and Firestore for data storage.

## Collections Overview

1.  **`bursaries`**: Stores information about available bursaries.
2.  **`students`**: Stores detailed profile information for each student.

---

## 1. `bursaries` Collection

*   **Collection Path**: `bursaries/{bursaryId}`
*   **Purpose**: To store summary information about each bursary for quick listing and filtering.
*   **Document ID**: Auto-generated by Firestore or a unique identifier for the bursary.

### Top-level Document Fields (`bursaries/{bursaryId}`)

| Field Name | Type      | Description                                     |
| :--------- | :-------- | :---------------------------------------------- |
| `name`     | `string`  | The name of the bursary.                        |
| `deadline` | `Timestamp` | The application deadline for the bursary.       |

### Nested `details` Subcollection (`bursaries/{bursaryId}/details/details`)

*   **Purpose**: To store comprehensive details of a bursary, fetched only when needed (e.g., when viewing bursary details).
*   **Document ID**: Always `details` (a fixed document ID within the subcollection).

| Field Name          | Type      | Description                                                              |
| :------------------ | :-------- | :----------------------------------------------------------------------- |
| `description`       | `string`  | A detailed description of the bursary.                                   |
| `amount`            | `number`  | The monetary value of the bursary.                                       |
| `academic_level`    | `string`  | Academic level required (e.g., 'UG', 'PG', 'PHD').                       |
| `field_of_study`    | `string`  | The field of study the bursary is for.                                   |
| `gpa_requirement`   | `number`  | Minimum GPA required (optional).                                         |
| `nationality`       | `string`  | Required nationality (optional).                                         |
| `residency`         | `string`  | Required residency (optional).                                           |
| `gender`            | `string`  | Required gender (optional).                                              |
| `ethnicity`         | `string`  | Required ethnicity (optional).                                           |
| `disability_status` | `boolean` | Indicates if the bursary is for students with disabilities.              |
| `first_gen_student` | `boolean` | Indicates if the bursary is for first-generation students.               |
| `created_at`        | `Timestamp` | Timestamp when the bursary record was created.                           |
| `updated_at`        | `Timestamp` | Timestamp of the last update to the bursary record.                      |

---

## 2. `students` Collection

*   **Collection Path**: `students/{studentId}`
*   **Purpose**: To store summary student profile information.
*   **Document ID**: Firebase Authentication User ID (`uid`) of the student.

### Top-level Document Fields (`students/{studentId}`)

| Field Name            | Type     | Description                                                              |
| :-------------------- | :------- | :----------------------------------------------------------------------- |
| `extracted_full_name` | `string` | Full name of the student, potentially extracted from documents.          |
| `student_number`      | `string` | Student's unique identification number.                                  |
| `profile_status`      | `string` | Current status of the student's profile (e.g., 'Incomplete', 'Verified'). |

### Nested `details` Subcollection (`students/{studentId}/details/details`)

*   **Purpose**: To store comprehensive and sensitive student profile details, including document URLs.
*   **Document ID**: Always `details` (a fixed document ID within the subcollection).

| Field Name                    | Type      | Description                                                              |
| :---------------------------- | :-------- | :----------------------------------------------------------------------- |
| `date_of_birth`               | `Timestamp` | Student's date of birth.                                                 |
| `current_institution`         | `string`  | The institution the student is currently attending.                      |
| `study_program`               | `string`  | The student's program of study.                                          |
| `academic_year`               | `number`  | The student's current academic year.                                     |
| `average_grade`               | `number`  | The student's average academic grade.                                    |
| `contact_number`              | `string`  | Student's contact phone number.                                          |
| `registration_date`           | `Timestamp` | Date of student registration in the system.                              |
| `id_document_url`             | `string`  | URL to the student's ID document in Firebase Storage.                    |
| `academic_records_url`        | `string`  | URL to the student's academic records in Firebase Storage.               |
| `proof_of_registration_url`   | `string`  | URL to the student's proof of registration in Firebase Storage.          |
| `financial_documents_url`     | `string`  | URL to the student's financial documents in Firebase Storage (optional). |
| `extracted_id_number`         | `string`  | ID number extracted from documents.                                      |
| `extracted_date_of_birth`     | `Timestamp` | Date of birth extracted from documents.                                  |
| `extracted_previous_institution` | `string`  | Previous educational institution extracted from documents.               |
| `extracted_grades_summary`    | `string`  | Summary of grades extracted from academic records.                       |

---

## Firebase Authentication

*   Firebase Authentication will be used for user management (sign-up, sign-in, etc.).
*   The `User` model from Django will be replaced by Firebase Authentication users.
*   The `LoginToken` model is no longer necessary as Firebase handles session management.
